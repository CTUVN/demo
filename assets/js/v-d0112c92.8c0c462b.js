(self.webpackChunk=self.webpackChunk||[]).push([[3040],{627:(e,a,n)=>{"use strict";n.r(a),n.d(a,{data:()=>l});const l={key:"v-d0112c92",path:"/guide/migration.html",title:"Migrating from v1",lang:"en-US",frontmatter:{},excerpt:"",headers:[{level:2,title:"For Users",slug:"for-users",children:[{level:3,title:"User Config Change",slug:"user-config-change",children:[]},{level:3,title:"Frontmatter Change",slug:"frontmatter-change",children:[]},{level:3,title:"Permalink Patterns Change",slug:"permalink-patterns-change",children:[]},{level:3,title:"Palette System Change",slug:"palette-system-change",children:[]},{level:3,title:"Conventional Files Change",slug:"conventional-files-change",children:[]},{level:3,title:"Markdown slot Change",slug:"markdown-slot-change",children:[]},{level:3,title:"Plugin API Change",slug:"plugin-api-change",children:[]},{level:3,title:"Theme API Change",slug:"theme-api-change",children:[]},{level:3,title:"CLI Change",slug:"cli-change",children:[]},{level:3,title:"Default Theme Change",slug:"default-theme-change",children:[]},{level:3,title:"Official Plugins Change",slug:"official-plugins-change",children:[]},{level:3,title:"Community Themes and Plugins",slug:"community-themes-and-plugins",children:[]}]},{level:2,title:"For Plugin Authors",slug:"for-plugin-authors",children:[]},{level:2,title:"For Theme Authors",slug:"for-theme-authors",children:[]}],filePathRelative:"guide/migration.md",git:{}}},8690:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>Wa});var l=n(6252);const o=(0,l.uE)('<h1 id="migrating-from-v1" tabindex="-1"><a class="header-anchor" href="#migrating-from-v1" aria-hidden="true">#</a> Migrating from v1</h1><p>Some major changes and enhancements of VuePress v2:</p><ul><li>VuePress v2 is now using Vue 3, so make sure your components and other client files are compatible with Vue 3.</li><li>VuePress v2 is developed with TypeScript, so it provides better TS support now. It&#39;s highly recommended to use TypeScript to develop plugins and themes. VuePress config file also supports TypeScript, and you can use <code>.vuepress/config.ts</code> directly.</li><li>VuePress v2 supports both Webpack and Vite as bundler. You can even use Vite in dev mode to get better development experience, and use Webpack in build mode to get better browser compatibility.</li></ul><p>Core ideas and processes of VuePress v2 are the same with v1, while v2 API has been re-designed and becomes more normalized. So you might encounter breaking changes when migrating an existing v1 project to v2. This guide is here to help you migrating v1 sites / plugins / themes to v2.</p><ul><li>If you are a common user, you need to read the guide <a href="#for-users">for users</a>.</li><li>If you are a plugin author, you need to read the guide <a href="#for-plugin-authors">for plugin authors</a>.</li><li>If you are a theme author, you need to read the guide <a href="#for-theme-authors">for theme authors</a>.</li></ul><h2 id="for-users" tabindex="-1"><a class="header-anchor" href="#for-users" aria-hidden="true">#</a> For Users</h2><h3 id="user-config-change" tabindex="-1"><a class="header-anchor" href="#user-config-change" aria-hidden="true">#</a> User Config Change</h3><h4 id="shouldprefetch" tabindex="-1"><a class="header-anchor" href="#shouldprefetch" aria-hidden="true">#</a> shouldPrefetch</h4><p>Default value is changed from <code>() =&gt; true</code> to <code>false</code>.</p><h4 id="extrawatchfiles" tabindex="-1"><a class="header-anchor" href="#extrawatchfiles" aria-hidden="true">#</a> extraWatchFiles</h4><p>Removed.</p>',11),s=(0,l.Uk)("You can watch files manually in "),t=(0,l.Uk)("onWatched"),r=(0,l.Uk)(" hook."),i=(0,l.Wm)("h4",{id:"patterns",tabindex:"-1"},[(0,l.Wm)("a",{class:"header-anchor",href:"#patterns","aria-hidden":"true"},"#"),(0,l.Uk)(" patterns")],-1),d=(0,l.Wm)("p",null,[(0,l.Uk)("Renamed to "),(0,l.Wm)("code",null,"pagePatterns")],-1),c=(0,l.Wm)("h4",{id:"markdown-linenumbers",tabindex:"-1"},[(0,l.Wm)("a",{class:"header-anchor",href:"#markdown-linenumbers","aria-hidden":"true"},"#"),(0,l.Uk)(" markdown.lineNumbers")],-1),p=(0,l.Uk)("Moved to "),h=(0,l.Uk)("markdown.code.lineNumbers"),u=(0,l.Uk)("."),m=(0,l.uE)('<p>Default value is changed from <code>false</code> to <code>true</code>.</p><h4 id="markdown-slugify" tabindex="-1"><a class="header-anchor" href="#markdown-slugify" aria-hidden="true">#</a> markdown.slugify</h4><p>Removed.</p><p>If you want to change the slugify function anyway, set the following options separately:</p><ul><li><code>markdown.anchor.slugify</code></li><li><code>markdown.toc.slugify</code></li><li><code>markdown.extractHeaders.slugify</code></li></ul><h4 id="markdown-pagesuffix" tabindex="-1"><a class="header-anchor" href="#markdown-pagesuffix" aria-hidden="true">#</a> markdown.pageSuffix</h4><p>Removed.</p><h4 id="markdown-externallinks" tabindex="-1"><a class="header-anchor" href="#markdown-externallinks" aria-hidden="true">#</a> markdown.externalLinks</h4>',8),g=(0,l.Uk)("Moved to "),f=(0,l.Uk)("markdown.links.externalAttrs"),k=(0,l.Uk)("."),y=(0,l.Wm)("h4",{id:"markdown-toc",tabindex:"-1"},[(0,l.Wm)("a",{class:"header-anchor",href:"#markdown-toc","aria-hidden":"true"},"#"),(0,l.Uk)(" markdown.toc")],-1),b=(0,l.Wm)("p",null,"Changed.",-1),v=(0,l.Uk)("See "),w=(0,l.Uk)("Config > markdown.toc"),W=(0,l.Wm)("h4",{id:"markdown-plugins",tabindex:"-1"},[(0,l.Wm)("a",{class:"header-anchor",href:"#markdown-plugins","aria-hidden":"true"},"#"),(0,l.Uk)(" markdown.plugins")],-1),D=(0,l.Wm)("p",null,"Removed.",-1),U=(0,l.Uk)("Use markdown-it plugins in "),C=(0,l.Uk)("extendsMarkdown"),x=(0,l.Uk)(" hook."),P=(0,l.Wm)("h4",{id:"markdown-extendmarkdown",tabindex:"-1"},[(0,l.Wm)("a",{class:"header-anchor",href:"#markdown-extendmarkdown","aria-hidden":"true"},"#"),(0,l.Uk)(" markdown.extendMarkdown")],-1),E=(0,l.Wm)("p",null,"Removed.",-1),S=(0,l.Uk)("Use "),A=(0,l.Uk)("extendsMarkdown"),T=(0,l.Uk)(" hook."),F=(0,l.Wm)("h4",{id:"markdown-extractheaders",tabindex:"-1"},[(0,l.Wm)("a",{class:"header-anchor",href:"#markdown-extractheaders","aria-hidden":"true"},"#"),(0,l.Uk)(" markdown.extractHeaders")],-1),_=(0,l.Wm)("p",null,"Changed.",-1),I=(0,l.Uk)("See "),j=(0,l.Uk)("Config > markdown.extractHeaders"),M=(0,l.Wm)("h4",{id:"webpack-related-configs",tabindex:"-1"},[(0,l.Wm)("a",{class:"header-anchor",href:"#webpack-related-configs","aria-hidden":"true"},"#"),(0,l.Uk)(" Webpack Related Configs")],-1),R=(0,l.Uk)("All webpack related configs are moved to options of "),V=(0,l.Wm)("code",null,"@vuepress/bundler-webpack",-1),Y=(0,l.Uk)(", so you should set them in "),B=(0,l.Uk)("bundlerConfig"),H=(0,l.Uk)(":"),L=(0,l.uE)("<ul><li><code>postcss</code>: moved to <code>bundlerConfig.postcss</code></li><li><code>stylus</code>: moved to <code>bundlerConfig.stylus</code></li><li><code>scss</code>: moved to <code>bundlerConfig.scss</code></li><li><code>sass</code>: moved to <code>bundlerConfig.sass</code></li><li><code>less</code>: moved to <code>bundlerConfig.less</code></li><li><code>chainWebpack</code>: moved to <code>bundlerConfig.chainWebpack</code></li><li><code>configureWebpack</code>: moved to <code>bundlerConfig.configureWebpack</code></li><li><code>evergreen</code>: moved to <code>bundlerConfig.evergreen</code>, and default value is changed from <code>false</code> to <code>true</code>.</li></ul>",1),G=(0,l.Uk)("See "),N=(0,l.Uk)("Bundlers > Webpack"),z=(0,l.Wm)("h3",{id:"frontmatter-change",tabindex:"-1"},[(0,l.Wm)("a",{class:"header-anchor",href:"#frontmatter-change","aria-hidden":"true"},"#"),(0,l.Uk)(" Frontmatter Change")],-1),O=(0,l.Wm)("h4",{id:"meta",tabindex:"-1"},[(0,l.Wm)("a",{class:"header-anchor",href:"#meta","aria-hidden":"true"},"#"),(0,l.Uk)(" meta")],-1),$=(0,l.Wm)("p",null,"Removed.",-1),q=(0,l.Uk)("Use "),J=(0,l.Uk)("head"),K=(0,l.Uk)(" instead. For example:"),Q=(0,l.uE)('<div class="language-yaml ext-yml line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#569CD6;">head</span><span style="color:#D4D4D4;">:</span></span>\n<span class="line"><span style="color:#D4D4D4;">  - - </span><span style="color:#CE9178;">meta</span></span>\n<span class="line"><span style="color:#D4D4D4;">    - </span><span style="color:#569CD6;">name</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">foo</span></span>\n<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#569CD6;">content</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">bar</span></span>\n<span class="line"><span style="color:#D4D4D4;">  - - </span><span style="color:#CE9178;">link</span></span>\n<span class="line"><span style="color:#D4D4D4;">    - </span><span style="color:#569CD6;">rel</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">canonical</span></span>\n<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#569CD6;">href</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">foobar</span></span>\n<span class="line"><span style="color:#D4D4D4;">  - - </span><span style="color:#CE9178;">script</span></span>\n<span class="line"><span style="color:#D4D4D4;">    - {}</span></span>\n<span class="line"><span style="color:#D4D4D4;">    - </span><span style="color:#CE9178;">console.log(&#39;hello from frontmatter&#39;);</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Has the same structure with:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;">// .vuepress/config.js</span></span>\n<span class="line"><span style="color:#4EC9B0;">module</span><span style="color:#D4D4D4;">.</span><span style="color:#4EC9B0;">exports</span><span style="color:#D4D4D4;"> = {</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#6A9955;">// ...</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">head:</span><span style="color:#D4D4D4;"> [</span></span>\n<span class="line"><span style="color:#D4D4D4;">    [</span><span style="color:#CE9178;">&#39;meta&#39;</span><span style="color:#D4D4D4;">, { </span><span style="color:#9CDCFE;">name:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;foo&#39;</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">content:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;bar&#39;</span><span style="color:#D4D4D4;"> }],</span></span>\n<span class="line"><span style="color:#D4D4D4;">    [</span><span style="color:#CE9178;">&#39;link&#39;</span><span style="color:#D4D4D4;">, { </span><span style="color:#9CDCFE;">rel:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;canonical&#39;</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">href:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;foobar&#39;</span><span style="color:#D4D4D4;"> }],</span></span>\n<span class="line"><span style="color:#D4D4D4;">    [</span><span style="color:#CE9178;">&#39;script&#39;</span><span style="color:#D4D4D4;">, {}, </span><span style="color:#CE9178;">`console.log(&#39;hello from frontmatter&#39;);`</span><span style="color:#D4D4D4;">],</span></span>\n<span class="line"><span style="color:#D4D4D4;">  ],</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#6A9955;">// ...</span></span>\n<span class="line"><span style="color:#D4D4D4;">}</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="permalink-patterns-change" tabindex="-1"><a class="header-anchor" href="#permalink-patterns-change" aria-hidden="true">#</a> Permalink Patterns Change</h3><ul><li><code>:i_month</code>: removed</li><li><code>:i_day</code>: removed</li><li><code>:minutes</code>: removed (undocumented in v1)</li><li><code>:seconds</code>: removed (undocumented in v1)</li><li><code>:regular</code>: renamed to <code>:raw</code></li></ul>',5),X=(0,l.Uk)("See "),Z=(0,l.Uk)("Frontmatter > permalinkPattern"),ee=(0,l.Uk)("."),ae=(0,l.Wm)("h3",{id:"palette-system-change",tabindex:"-1"},[(0,l.Wm)("a",{class:"header-anchor",href:"#palette-system-change","aria-hidden":"true"},"#"),(0,l.Uk)(" Palette System Change")],-1),ne=(0,l.Wm)("p",null,[(0,l.Uk)("The stylus palette system of VuePress v1 (i.e. "),(0,l.Wm)("code",null,"styles/palette.styl"),(0,l.Uk)(" and "),(0,l.Wm)("code",null,"styles/index.styl"),(0,l.Uk)(") is no longer provided by VuePress Core.")],-1),le=(0,l.Uk)("The palette system is extracted to "),oe=(0,l.Uk)("@vuepress/plugin-palette"),se=(0,l.Uk)("."),te=(0,l.Wm)("p",null,"Theme authors can use their own way to allow users to customize styles, and not be limited with stylus.",-1),re=(0,l.Uk)("If you are using default theme, the palette system is still available but migrated to SASS, while most variables have been migrated to CSS variables. See "),ie=(0,l.Uk)("Default Theme > Styles"),de=(0,l.Uk)("."),ce=(0,l.Wm)("h3",{id:"conventional-files-change",tabindex:"-1"},[(0,l.Wm)("a",{class:"header-anchor",href:"#conventional-files-change","aria-hidden":"true"},"#"),(0,l.Uk)(" Conventional Files Change")],-1),pe=(0,l.Wm)("h4",{id:"vuepress-enhanceapp-js",tabindex:"-1"},[(0,l.Wm)("a",{class:"header-anchor",href:"#vuepress-enhanceapp-js","aria-hidden":"true"},"#"),(0,l.Uk)(" .vuepress/enhanceApp.js")],-1),he=(0,l.Wm)("p",null,[(0,l.Uk)("Renamed to "),(0,l.Wm)("code",null,".vuepress/clientAppEnhance.{js,ts}"),(0,l.Uk)(".")],-1),ue=(0,l.Wm)("p",null,"The arguments of the function are changed, too.",-1),me=(0,l.Uk)("See "),ge=(0,l.Uk)("Client API > defineClientAppEnhance"),fe=(0,l.Uk)("."),ke=(0,l.Wm)("h4",{id:"vuepress-components",tabindex:"-1"},[(0,l.Wm)("a",{class:"header-anchor",href:"#vuepress-components","aria-hidden":"true"},"#"),(0,l.Uk)(" .vuepress/components/")],-1),ye=(0,l.Wm)("p",null,"Files in this directory will not be registered as Vue components automatically.",-1),be=(0,l.Uk)("You need to use "),ve=(0,l.Uk)("@vuepress/plugin-register-components"),we=(0,l.Uk)(", or register your components manually in "),We=(0,l.Wm)("code",null,".vuepress/clientAppEnhance.{js,ts}",-1),De=(0,l.Uk)("."),Ue=(0,l.Wm)("h4",{id:"vuepress-theme",tabindex:"-1"},[(0,l.Wm)("a",{class:"header-anchor",href:"#vuepress-theme","aria-hidden":"true"},"#"),(0,l.Uk)(" .vuepress/theme/")],-1),Ce=(0,l.Wm)("p",null,"This directory will not be used as local theme implicitly if it is existed.",-1),xe=(0,l.Uk)("You need to set the path to the local theme explicitly via "),Pe=(0,l.Uk)("theme"),Ee=(0,l.Uk)(" option."),Se=(0,l.uE)('<h3 id="markdown-slot-change" tabindex="-1"><a class="header-anchor" href="#markdown-slot-change" aria-hidden="true">#</a> Markdown slot Change</h3><p>Markdown slot is no longer supported.</p><h3 id="plugin-api-change" tabindex="-1"><a class="header-anchor" href="#plugin-api-change" aria-hidden="true">#</a> Plugin API Change</h3><ul><li><code>plugins</code>: removed</li><li><code>ready</code>: renamed to <code>onPrepared</code></li><li><code>updated</code>: renamed to <code>onWatched</code></li><li><code>generated</code>: renamed to <code>onGenerated</code></li><li><code>additionalPages</code>: removed, use <code>app.pages.push(createPage())</code> in <code>onInitialized</code> hook</li><li><code>clientDynamicModules</code>: removed, use <code>app.writeTemp()</code> in <code>onPrepared</code> hook</li><li><code>enhanceAppFiles</code>: renamed to <code>clientAppEnhanceFiles</code></li><li><code>globalUIComponents</code>: renamed to <code>clientAppRootComponentFiles</code></li><li><code>clientRootMixin</code>: renamed to<code>clientAppSetupFiles</code></li><li><code>extendMarkdown</code>: renamed to <code>extendsMarkdown</code></li><li><code>chainMarkdown</code>: removed</li><li><code>extendPageData</code>: renamed to <code>extendsPageData</code></li><li><code>extendsCli</code>: removed</li><li><code>configureWebpack</code>: removed</li><li><code>chainWebpack</code>: removed</li><li><code>beforeDevServer</code>: removed</li><li><code>afterDevServer</code>: removed</li></ul>',4),Ae=(0,l.Uk)("See "),Te=(0,l.Uk)("Plugin API"),Fe=(0,l.Uk)("."),_e=(0,l.Wm)("h3",{id:"theme-api-change",tabindex:"-1"},[(0,l.Wm)("a",{class:"header-anchor",href:"#theme-api-change","aria-hidden":"true"},"#"),(0,l.Uk)(" Theme API Change")],-1),Ie=(0,l.Wm)("h4",{id:"layouts",tabindex:"-1"},[(0,l.Wm)("a",{class:"header-anchor",href:"#layouts","aria-hidden":"true"},"#"),(0,l.Uk)(" layouts")],-1),je=(0,l.Wm)("p",null,"Now you need to specify the layouts directory or layout components manually.",-1),Me=(0,l.Uk)("See "),Re=(0,l.Uk)("Theme API > layouts"),Ve=(0,l.Uk)("."),Ye=(0,l.uE)('<h4 id="extend" tabindex="-1"><a class="header-anchor" href="#extend" aria-hidden="true">#</a> extend</h4><p>Renamed to <code>extends</code>.</p><p>You can still inherit a parent theme with <code>extends: &#39;parent-theme&#39;</code>, which will extends the plugins, layouts, etc.</p><p>The <code>@theme</code> and <code>@parent-theme</code> aliases are not available now.</p><p>Now multi-level theme inheritance is supported.</p><h3 id="cli-change" tabindex="-1"><a class="header-anchor" href="#cli-change" aria-hidden="true">#</a> CLI Change</h3><h4 id="eject-command" tabindex="-1"><a class="header-anchor" href="#eject-command" aria-hidden="true">#</a> eject command</h4><p>Removed.</p><h4 id="cache-options" tabindex="-1"><a class="header-anchor" href="#cache-options" aria-hidden="true">#</a> cache options</h4><ul><li><code>-c, --cache [cache]</code>: changed to <code>--cache &lt;cache&gt;</code>, which means that the shorthand <code>-c</code> is not for <code>cache</code> option, and the value of <code>cache</code> option is not optional.</li><li><code>--no-cache</code>: renamed to <code>--clean-cache</code> .</li></ul><h3 id="default-theme-change" tabindex="-1"><a class="header-anchor" href="#default-theme-change" aria-hidden="true">#</a> Default Theme Change</h3><h4 id="built-in-components" tabindex="-1"><a class="header-anchor" href="#built-in-components" aria-hidden="true">#</a> Built-in Components</h4><ul><li><code>&lt;CodeGroup /&gt;</code> and <code>&lt;CodeBlock /&gt;</code> renamed to <code>&lt;CodeGroup /&gt;</code> and <code>&lt;CodeGroupItem /&gt;</code></li><li><code>&lt;Badge /&gt;</code><ul><li><code>$badgeErrorColor</code> palette variable renamed to <code>$badgeDangerColor</code></li><li><code>type</code> prop only accepts <code>tip</code>, <code>warning</code> and <code>danger</code> now</li></ul></li></ul><h4 id="palette-system" tabindex="-1"><a class="header-anchor" href="#palette-system" aria-hidden="true">#</a> Palette System</h4><p>The palette system of default theme has migrated to SASS and CSS variables.</p>',15),Be=(0,l.Uk)("See "),He=(0,l.Uk)("Default Theme > Styles"),Le=(0,l.Uk)("."),Ge=(0,l.Wm)("h4",{id:"theme-config",tabindex:"-1"},[(0,l.Wm)("a",{class:"header-anchor",href:"#theme-config","aria-hidden":"true"},"#"),(0,l.Uk)(" Theme Config")],-1),Ne=(0,l.Wm)("p",null,"Default theme config has changed a lot.",-1),ze=(0,l.Uk)("See "),Oe=(0,l.Uk)("Default Theme > Config"),$e=(0,l.Uk)("."),qe=(0,l.Wm)("h3",{id:"official-plugins-change",tabindex:"-1"},[(0,l.Wm)("a",{class:"header-anchor",href:"#official-plugins-change","aria-hidden":"true"},"#"),(0,l.Uk)(" Official Plugins Change")],-1),Je=(0,l.Uk)("See "),Ke=(0,l.Uk)("Official Plugins"),Qe=(0,l.Uk)("."),Xe=(0,l.uE)('<h3 id="community-themes-and-plugins" tabindex="-1"><a class="header-anchor" href="#community-themes-and-plugins" aria-hidden="true">#</a> Community Themes and Plugins</h3><p>Themes and plugins of v1 is not compatible with v2.</p><p>Please make sure that those themes and plugins you are using have supported v2, and refer to their own documentation for migration guide.</p><h2 id="for-plugin-authors" tabindex="-1"><a class="header-anchor" href="#for-plugin-authors" aria-hidden="true">#</a> For Plugin Authors</h2><p>Read the <a href="#plugin-api-change">Plugin API Change</a> first.</p><p>Some major breaking changes:</p><ul><li>You cannot use other plugins in your plugin anymore, which avoids lots of potential issues caused by plugin nesting. If your plugin depends on other plugins, you should list them in the docs.</li><li>Most of the v1 hooks have equivalents in v2. The only exception is <code>extendsCli</code>, which has been removed.</li><li>Webpack related hooks are removed, because VuePress Core has decoupled with webpack. If you still want to modify webpack config in plugin, try modifying <code>app.options.bundlerConfig</code> directly.</li></ul><h2 id="for-theme-authors" tabindex="-1"><a class="header-anchor" href="#for-theme-authors" aria-hidden="true">#</a> For Theme Authors</h2><p>Read the <a href="#plugin-api-change">Plugin API Change</a> and <a href="#theme-api-change">Theme API Change</a> first.</p><p>Although we do not allow using other plugins in a plugin, you can still use plugins in your theme.</p><p>Some major breaking changes:</p>',11),Ze=(0,l.Uk)("There is no "),ea=(0,l.Wm)("strong",null,"conventional theme directory structure",-1),aa=(0,l.Uk)(" anymore. "),na=(0,l.Wm)("li",null,[(0,l.Uk)("The file "),(0,l.Wm)("code",null,"theme/enhanceApp.js"),(0,l.Uk)(" or "),(0,l.Wm)("code",null,"theme/clientAppEnhance.{js,ts}"),(0,l.Uk)(" will not be used as client app enhance file implicitly. You need to specify it explicitly in "),(0,l.Wm)("code",null,"clientAppEnhanceFiles"),(0,l.Uk)(" hook.")],-1),la=(0,l.Uk)("Files in "),oa=(0,l.Wm)("code",null,"theme/global-components/",-1),sa=(0,l.Uk)(" directory will not be registered as Vue components automatically. You need to use "),ta=(0,l.Uk)("@vuepress/plugin-register-components"),ra=(0,l.Uk)(", or register components manually in "),ia=(0,l.Wm)("code",null,"clientAppEnhance.{js,ts}",-1),da=(0,l.Uk)("."),ca=(0,l.Wm)("li",null,[(0,l.Uk)("Files in "),(0,l.Wm)("code",null,"theme/layouts/"),(0,l.Uk)(" directory will not be registered as layout components automatically. You need to specify it explicitly in "),(0,l.Wm)("code",null,"layouts"),(0,l.Uk)(" option.")],-1),pa=(0,l.Wm)("li",null,[(0,l.Uk)("Files in "),(0,l.Wm)("code",null,"theme/templates/"),(0,l.Uk)(" directory will not be used as dev / ssr template automatically.")],-1),ha=(0,l.Wm)("li",null,[(0,l.Uk)("Always provide a theme entry file, and do not use "),(0,l.Wm)("code",null,'"main": "layouts/Layout.vue"'),(0,l.Uk)(" as the theme entry.")],-1),ua=(0,l.Uk)("Stylus is no longer the default CSS pre-processor, and the stylus palette system is not embedded. If you still want to use similar palette system as v1, "),ma=(0,l.Uk)("@vuepress/plugin-palette"),ga=(0,l.Uk)(" may help."),fa=(0,l.Uk)("Markdown code blocks syntax highlighting by Prism.js is not embedded by default. You can use either "),ka=(0,l.Uk)("@vuepress/plugin-prismjs"),ya=(0,l.Uk)(" or "),ba=(0,l.Uk)("@vuepress/plugin-shiki"),va=(0,l.Uk)(", or implement syntax highlighting in your own way."),wa=(0,l.Wm)("li",null,[(0,l.Uk)("For scalability concern, "),(0,l.Wm)("code",null,"$site.pages"),(0,l.Uk)(" is not available any more.")],-1),Wa={render:function(e,a){const n=(0,l.up)("RouterLink");return(0,l.wg)(),(0,l.j4)(l.HY,null,[o,(0,l.Wm)("p",null,[s,(0,l.Wm)(n,{to:"/reference/plugin-api.html#onwatched"},{default:(0,l.w5)((()=>[t])),_:1}),r]),i,d,c,(0,l.Wm)("p",null,[p,(0,l.Wm)(n,{to:"/reference/config.html#markdown-code-linenumbers"},{default:(0,l.w5)((()=>[h])),_:1}),u]),m,(0,l.Wm)("p",null,[g,(0,l.Wm)(n,{to:"/reference/config.html#markdown-links"},{default:(0,l.w5)((()=>[f])),_:1}),k]),y,b,(0,l.Wm)("p",null,[v,(0,l.Wm)(n,{to:"/reference/config.html#markdown-toc"},{default:(0,l.w5)((()=>[w])),_:1})]),W,D,(0,l.Wm)("p",null,[U,(0,l.Wm)(n,{to:"/reference/plugin-api.html#extendsmarkdown"},{default:(0,l.w5)((()=>[C])),_:1}),x]),P,E,(0,l.Wm)("p",null,[S,(0,l.Wm)(n,{to:"/reference/plugin-api.html#extendsmarkdown"},{default:(0,l.w5)((()=>[A])),_:1}),T]),F,_,(0,l.Wm)("p",null,[I,(0,l.Wm)(n,{to:"/reference/config.html#markdown-extractheaders"},{default:(0,l.w5)((()=>[j])),_:1})]),M,(0,l.Wm)("p",null,[R,V,Y,(0,l.Wm)(n,{to:"/reference/config.html#bundlerconfig"},{default:(0,l.w5)((()=>[B])),_:1}),H]),L,(0,l.Wm)("p",null,[G,(0,l.Wm)(n,{to:"/reference/bundler/webpack.html"},{default:(0,l.w5)((()=>[N])),_:1})]),z,O,$,(0,l.Wm)("p",null,[q,(0,l.Wm)(n,{to:"/reference/frontmatter.html#head"},{default:(0,l.w5)((()=>[J])),_:1}),K]),Q,(0,l.Wm)("p",null,[X,(0,l.Wm)(n,{to:"/reference/frontmatter.html#permalinkpattern"},{default:(0,l.w5)((()=>[Z])),_:1}),ee]),ae,ne,(0,l.Wm)("p",null,[le,(0,l.Wm)(n,{to:"/reference/plugin/palette.html"},{default:(0,l.w5)((()=>[oe])),_:1}),se]),te,(0,l.Wm)("p",null,[re,(0,l.Wm)(n,{to:"/reference/default-theme/styles.html"},{default:(0,l.w5)((()=>[ie])),_:1}),de]),ce,pe,he,ue,(0,l.Wm)("p",null,[me,(0,l.Wm)(n,{to:"/reference/client-api.html#defineclientappenhance"},{default:(0,l.w5)((()=>[ge])),_:1}),fe]),ke,ye,(0,l.Wm)("p",null,[be,(0,l.Wm)(n,{to:"/reference/plugin/register-components.html"},{default:(0,l.w5)((()=>[ve])),_:1}),we,We,De]),Ue,Ce,(0,l.Wm)("p",null,[xe,(0,l.Wm)(n,{to:"/reference/config.html#theme"},{default:(0,l.w5)((()=>[Pe])),_:1}),Ee]),Se,(0,l.Wm)("p",null,[Ae,(0,l.Wm)(n,{to:"/reference/plugin-api.html"},{default:(0,l.w5)((()=>[Te])),_:1}),Fe]),_e,Ie,je,(0,l.Wm)("p",null,[Me,(0,l.Wm)(n,{to:"/reference/theme-api.html#layouts"},{default:(0,l.w5)((()=>[Re])),_:1}),Ve]),Ye,(0,l.Wm)("p",null,[Be,(0,l.Wm)(n,{to:"/reference/default-theme/styles.html"},{default:(0,l.w5)((()=>[He])),_:1}),Le]),Ge,Ne,(0,l.Wm)("p",null,[ze,(0,l.Wm)(n,{to:"/reference/default-theme/config.html"},{default:(0,l.w5)((()=>[Oe])),_:1}),$e]),qe,(0,l.Wm)("p",null,[Je,(0,l.Wm)(n,{to:"/reference/plugin/"},{default:(0,l.w5)((()=>[Ke])),_:1}),Qe]),Xe,(0,l.Wm)("ul",null,[(0,l.Wm)("li",null,[Ze,ea,aa,(0,l.Wm)("ul",null,[na,(0,l.Wm)("li",null,[la,oa,sa,(0,l.Wm)(n,{to:"/reference/plugin/register-components.html"},{default:(0,l.w5)((()=>[ta])),_:1}),ra,ia,da]),ca,pa,ha])]),(0,l.Wm)("li",null,[ua,(0,l.Wm)(n,{to:"/reference/plugin/palette.html"},{default:(0,l.w5)((()=>[ma])),_:1}),ga]),(0,l.Wm)("li",null,[fa,(0,l.Wm)(n,{to:"/reference/plugin/prismjs.html"},{default:(0,l.w5)((()=>[ka])),_:1}),ya,(0,l.Wm)(n,{to:"/reference/plugin/shiki.html"},{default:(0,l.w5)((()=>[ba])),_:1}),va]),wa])],64)}}}}]);